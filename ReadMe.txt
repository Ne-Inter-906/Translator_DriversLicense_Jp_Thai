# AutoTranslate

## 概要
   日本の運転免許筆記試験の練習問題や模擬試験を外国語（現在はタイ語のみ）
   にNLLBを使用して自動翻訳するためのツールです
   
   翻訳した後、さらにLaBSEを使用して翻訳精度のチェックを行えます。
   
   > [!IMPORTANT]
   > **翻訳元のデータについて**
   > 著作権保護の観点から、翻訳元となる日本語の問題データは同梱していません。ご自身で用意したExcelファイルを指定の場所に配置して使用してください。
   
   ローカル環境にHuggingFaceから翻訳用AIをダウンロードして実行します、
   そのためNvidia GeForceなど、pytorchで使用可能なグラボを搭載したPCの使用が前提となります
   CPUのみでも実行は可能ですが処理速度が大幅に遅くなります
   なおローカルAIの類はライブラリインストールの後、初回実行時にDLされます、よって初回のみ以降よりも長い時間が必要になります

   ※ライセンスに関する注意:
      本ツールのプログラムコードはMITライセンスですが、使用しているAIモデル（NLLB-200, LaBSE）の利用に関しては、
      それぞれのモデルのライセンス（Meta, Google）に従ってください。

## 動作確認済環境
   OS: win32
   Python: 3.12.0
   PyTorch version: 2.9.1+cu130
   CUDA available: True
   　　　Version: 13.0
   GPU: NVIDIA GeForce RTX 5060
   CustomTkinter version: 5.2.2

## セットアップ
   1.リポジトリをクローンまたはダウンロードします。
   2.ライブラリのインストール
      pip install -r requirements.txt


## 起動
   Tr_Gui.pyから実行します

## translate mode
   AI(METAのNLLB)で日本語からタイ語へ翻訳を行います
   翻訳したいデータを以下の構成で配置してください。

      配置先: AutoTranslate/data/input.xlsx

      構成: templates/Driver'sLicense_MockTest.xlsx と同じセル構成にしてください。

      B列: 問題文（日本語）

      F列: 解説文（日本語）

   ※1行目はヘッダーとして扱い、2行目からデータを読み込みます。
     
   問題文のみ、解説文のみ、もしくはその両方、そして全行一気に翻訳するか、行数を指定して翻訳が可能です
   ※バッチサイズを16行ごとにしているので行数指定の際は最低16行、それ以上は16の倍数で指定するのがおすすめです。

　　
## layout mode
  temlates\Driver'sLisence_MockTest.xslx
　と同じレイアウトになるように調整します、翻訳実行後はすべてのレイアウトが解除されているので、これを実行して整えます
　プルダウンメニューでallを選んだ場合は翻訳とレイアウト調整をセットで実行します。

## check mode
   LaBSEを使用して翻訳精度のチェックを行います。
   意味の一致度が 75% を下回るセルは 赤字 で出力されます。これらは手動での修正（LLMへの再依頼など）を推奨します。

